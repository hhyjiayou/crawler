/*! operationmaintenancesystem - v1.0.0 - 2015-11-06 */var commonModule=angular.module("commonModule",["ngResource"]);commonModule.factory("navData",function($location){var host=$location.host();return"mistore.huyu-inc.com"==host||"10.99.184.105"==host?{nav:[{href:"/resource_man#/",text:"资源管理",isActive:!1},{href:"",text:"容量管理",isActive:!1},{href:"",text:"运维操作",isActive:!1}]}:{nav:[{href:"/views/resource_man/index.html#/",text:"资源管理",isActive:!1},{href:"",text:"容量管理",isActive:!1},{href:"",text:"运维操作",isActive:!1}]}}),commonModule.factory("errData",function(){return{errMsg:"请求数据发生异常",className:"error_msg",button:{icon:"glyphicon-refresh",text:"刷新",refreshSuccess:{text:"刷新成功",style:"successMag"},refreshFail:{text:"刷新失败",style:"errorMsg"},big:"refresh_big",small:"refresh_small"}}}),commonModule.factory("stateMap",function(){return{RW:{statusNo:10,statusText:"正常",infoMsg:"主备ok",style:"label-success",styleColor:"font-label-success"},DEAD:{statusNo:13,statusText:"异常",infoMsg:"主备都dead",style:"label-danger",styleColor:"font-label-danger"},RW_M:{statusNo:11,statusText:"异常",infoMsg:"备dead，读写都在主",style:"label-danger",styleColor:"font-label-danger"},RW_S:{statusNo:12,statusText:"异常",infoMsg:"主dead，读写都在备",style:"label-danger",styleColor:"font-label-danger"},TRSF_SRC:{statusNo:20,statusText:"迁移中",infoMsg:"迁移中，迁移的源，主备ok",style:"label-warning",styleColor:"font-label-warning"},TRSF_SRC_M:{statusNo:21,statusText:"迁移中",infoMsg:"迁移中，迁移的源，主ok，备dead",style:"label-warning",styleColor:"font-label-warning"},TRSF_SRC_S:{statusNo:22,statusText:"迁移中",infoMsg:"迁移中，迁移的源，主dead，备OK",style:"label-warning",styleColor:"font-label-warning"},TRSF_DST:{statusNo:23,statusText:"迁移中",infoMsg:"迁移中，迁移的目标",style:"label-warning",styleColor:"font-label-warning"},FREE:{statusNo:30,statusText:"空闲",infoMsg:"空闲对，主备都OK",style:"label-info",styleColor:"font-label-info"},FREE_DEAD:{statusNo:31,statusText:"空闲",infoMsg:"空闲对，主或者备之一dead",style:"label-info",styleColor:"font-label-info"},FREE_LOCK:{statusNo:34,statusText:"空闲",infoMsg:"空闲实例被锁住",style:"label-info",styleColor:"font-label-info"}}}),commonModule.factory("commonData",function(){return{showPages:8,methods:{showTips:function(item,o){item[o]=!0},hideTips:function(item,o){item[o]=!1}}}}),commonModule.factory("redisClusterNav",function(){return{nav:[{type:"REDIS",list:[{text:"Redis集群",href:"#/resource_management/redis_cluster",icon:"glyphicon-cloud",isActive:!0},{text:"Redis路由",href:"#/resource_management/redis_router/0 0 0",icon:"glyphicon-random",isActive:!1},{text:"Redis机器",href:"#/resource_management/redis_machine/0",icon:"glyphicon-menu-hamburger",isActive:!1}]},{type:"MYSQL",list:[{text:"MySQL集群",href:"#/resource_management/mysql_cluster",icon:"glyphicon-cloud",isActive:!1},{text:"MySQL路由",href:"#/resource_management/mysql_router/0 0",icon:"glyphicon-random",isActive:!1},{text:"MySQL机器",href:"#/resource_management/mysql_machine/0",icon:"glyphicon-menu-hamburger",isActive:!1}]}],changeClass:function(nav,li){nav.forEach(function(item,index){item.list.forEach(function(item,index){item.isActive=!1})}),li.isActive=!0}}}),commonModule.factory("requestConfig",function($location){var _interface={local:{redisCluster:{redisClusterConfig:{method:"GET",url:"/testData/redisClusterData.json"},redisAppConfig:{method:"GET",url:"/testData/redisClusterApp.json"},routers:{goRedisrouter:"#/resource_management/redis_router",goRedismachine:"#/resource_management/redis_machine"}},redisRouter:{method:"GET",url:"/testData/redisRouterData.json"},redisMachine:{method:"GET",url:"/testData/redisMachineData.json"},MySQLCluster:{MySQLClusterConfig:{method:"GET",url:"/testData/MySQLClusterData.json"},MySQLAppConfig:{method:"GET",url:"/testData/MySQLClusterApp.json"},routers:{goMySQLrouter:"#/resource_management/mysql_router",goMySQLmachine:"#/resource_management/mysql_machine"}},MySQLRouter:{method:"GET",url:"/testData/MySQLRouterData.json"},MySQLMachine:{method:"GET",url:"/testData/MySQLMachineData.json"}},dev:{redisCluster:{redisClusterConfig:{method:"GET",url:"http://10.99.184.105:8107/redis/cluster"},redisAppConfig:{method:"GET",url:"http://10.99.184.105:8107/redis/appid/list"},routers:{goRedisrouter:"#/resource_management/redis_router",goRedismachine:"#/resource_management/redis_machine"}},redisRouter:{method:"GET",url:"http://10.99.184.105:8107/redis/router/search"},redisMachine:{method:"GET",url:"http://10.99.184.105:8107/redis/machine/search"},MySQLCluster:{MySQLClusterConfig:{method:"GET",url:"http://10.99.184.105:8107/mysql/cluster"},MySQLAppConfig:{method:"GET",url:"http://10.99.184.105:8107/mysql/appid/list"},routers:{goMySQLrouter:"#/resource_management/mysql_router",goMySQLmachine:"#/resource_management/mysql_machine"}},MySQLRouter:{method:"GET",url:"http://10.99.184.105:8107/mysql/router/search"},MySQLMachine:{method:"GET",url:"http://10.99.184.105:8107/mysql/machine/search"}},production:{redisCluster:{redisClusterConfig:{method:"GET",url:"http://mistore.huyu-inc.com/redis/cluster"},redisAppConfig:{method:"GET",url:"http://mistore.huyu-inc.com/redis/appid/list"},routers:{goRedisrouter:"#/resource_management/redis_router",goRedismachine:"#/resource_management/redis_machine"}},redisRouter:{method:"GET",url:"http://mistore.huyu-inc.com/redis/router/search"},redisMachine:{method:"GET",url:"http://mistore.huyu-inc.com/redis/machine/search"},MySQLCluster:{MySQLClusterConfig:{method:"GET",url:"http://mistore.huyu-inc.com/mysql/cluster"},MySQLAppConfig:{method:"GET",url:"http://mistore.huyu-inc.com/mysql/appid/list"},routers:{goMySQLrouter:"#/resource_management/mysql_router",goMySQLmachine:"#/resource_management/mysql_machine"}},MySQLRouter:{method:"GET",url:"http://mistore.huyu-inc.com/mysql/router/search"},MySQLMachine:{method:"GET",url:"http://mistore.huyu-inc.com/mysql/machine/search"}}},host=$location.host();return"mistore.huyu-inc.com"==host?_interface.production:"10.99.184.105"==host?_interface.dev:_interface.local}),commonModule.controller("navController",["$scope","navData","redisClusterNav",function($scope,navData,redisClusterNav){$scope.navs=navData}]);